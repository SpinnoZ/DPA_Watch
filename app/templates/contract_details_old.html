{% extends 'base.html' %}
{% block content %}

<div class="container mt-4">
    <h2 class="text-primary mb-4">Contract Details</h2>
    <form method="POST" action="{{ url_for('route_main.update_contract', contract_id=contract.contract_id) }}" novalidate>
        {{ form.hidden_tag() }}
        <div class="row mb-3">
            <label class="col-sm-2 col-form-label">Title:</label>
            <div class="col-sm-10">
                {{ form.contract_title(class="form-control", disabled=True) }}
            </div>
        </div>
        <div class="row mb-3">
            <label class="col-sm-2 col-form-label">Contract Number:</label>
            <div class="col-sm-10">
                {{ form.contract_no(class="form-control", disabled=True) }}
            </div>
        </div>
        <div class="row mb-3">
            <label class="col-sm-2 col-form-label">Person in charge:</label>
            <div class="col-sm-10">
                {{ form.PIC_id(class="form-control", disabled=True) }}
            </div>
        </div>
        <div class="row mb-3">
            <label class="col-sm-2 col-form-label">PIC Team:</label>
            <div class="col-sm-10">
                {{ form.PIC_team(class="form-control", disabled=True) }}
            </div>
        </div>

        <div class="d-flex justify-content-end">
            <button type="button" class="btn btn-primary me-2" id="edit-btn">Edit</button>
            <button type="submit" class="btn btn-success" id="save-btn" disabled>Save</button>
            <a href="{{ url_for('route_main.contract_list') }}" class="btn btn-secondary">Close</a>
        </div>

    </form>
</div>

<script>
    document.getElementById('edit-btn').addEventListener('click', function() {
        document.querySelectorAll('.form-control').forEach(el => el.disabled = false);
        document.getElementById('save-btn').disabled = false;
    });
</script>

{% endblock %}